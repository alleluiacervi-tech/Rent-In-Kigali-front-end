import{c as E,r as f,j as e,B as c,D as o,E as u,F as h,J as m,I as n,S as x,l as g,m as p,n as j,o as t,X as S,x as w}from"./index-lYiB39I8.js";import{T as L}from"./textarea-DVyZf2kk.js";import{L as l}from"./label-Dou3mpNO.js";import{A as q}from"./arrow-left-BWsYgQOO.js";import{P as I}from"./plus-CBP38y8L.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],K=E("save",H);function G({property:d,onNavigate:v,onSave:A}){const[a,r]=f.useState(d||{title:"",description:"",price:0,location:"",district:"Gasabo",bedrooms:0,bathrooms:0,area:0,type:"rent",category:"apartment",images:[],features:[],status:"available"}),[b,k]=f.useState(""),[y,C]=f.useState(""),D=s=>{if(s.preventDefault(),!a.title||!a.description||!a.location){w.error("Please fill in all required fields");return}A(a),w.success(d?"Property updated successfully":"Property created successfully"),v("admin-properties")},F=()=>{b.trim()&&(r({...a,features:[...a.features||[],b.trim()]}),k(""))},V=s=>{r({...a,features:a.features?.filter((i,N)=>N!==s)})},P=()=>{y.trim()&&(r({...a,images:[...a.images||[],y.trim()]}),C(""))},B=s=>{r({...a,images:a.images?.filter((i,N)=>N!==s)})};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("div",{className:"bg-white border-b border-border",children:e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsxs(c,{variant:"ghost",onClick:()=>v("admin-properties"),className:"gap-2 mb-2",children:[e.jsx(q,{className:"h-4 w-4"}),"Back to Properties"]}),e.jsx("h1",{children:d?"Edit Property":"Add New Property"})]})}),e.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:e.jsxs("form",{onSubmit:D,children:[e.jsxs(o,{className:"mb-6",children:[e.jsx(u,{children:e.jsx(h,{children:"Basic Information"})}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"title",children:"Property Title *"}),e.jsx(n,{id:"title",value:a.title,onChange:s=>r({...a,title:s.target.value}),placeholder:"e.g., Modern 3 Bedroom Apartment in Kigali Heights",required:!0,className:"bg-input-background"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"description",children:"Description *"}),e.jsx(L,{id:"description",value:a.description,onChange:s=>r({...a,description:s.target.value}),placeholder:"Describe the property, its features, and location...",rows:4,required:!0,className:"bg-input-background"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"type",children:"Type *"}),e.jsxs(x,{value:a.type,onValueChange:s=>r({...a,type:s}),children:[e.jsx(g,{className:"bg-input-background",children:e.jsx(p,{})}),e.jsxs(j,{children:[e.jsx(t,{value:"rent",children:"For Rent"}),e.jsx(t,{value:"sale",children:"For Sale"})]})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"category",children:"Category *"}),e.jsxs(x,{value:a.category,onValueChange:s=>r({...a,category:s}),children:[e.jsx(g,{className:"bg-input-background",children:e.jsx(p,{})}),e.jsxs(j,{children:[e.jsx(t,{value:"house",children:"House"}),e.jsx(t,{value:"apartment",children:"Apartment"}),e.jsx(t,{value:"villa",children:"Villa"}),e.jsx(t,{value:"studio",children:"Studio"}),e.jsx(t,{value:"land",children:"Land"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"location",children:"Location *"}),e.jsx(n,{id:"location",value:a.location,onChange:s=>r({...a,location:s.target.value}),placeholder:"e.g., Kigali Heights, Nyarutarama",required:!0,className:"bg-input-background"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"district",children:"District *"}),e.jsxs(x,{value:a.district,onValueChange:s=>r({...a,district:s}),children:[e.jsx(g,{className:"bg-input-background",children:e.jsx(p,{})}),e.jsxs(j,{children:[e.jsx(t,{value:"Gasabo",children:"Gasabo"}),e.jsx(t,{value:"Kicukiro",children:"Kicukiro"}),e.jsx(t,{value:"Nyarugenge",children:"Nyarugenge"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"price",children:"Price (RWF) *"}),e.jsx(n,{id:"price",type:"number",value:a.price,onChange:s=>r({...a,price:parseInt(s.target.value)||0}),placeholder:"e.g., 800000",required:!0,className:"bg-input-background"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"status",children:"Status *"}),e.jsxs(x,{value:a.status,onValueChange:s=>r({...a,status:s}),children:[e.jsx(g,{className:"bg-input-background",children:e.jsx(p,{})}),e.jsxs(j,{children:[e.jsx(t,{value:"available",children:"Available"}),e.jsx(t,{value:"rented",children:"Rented"}),e.jsx(t,{value:"sold",children:"Sold"})]})]})]})]})]}),e.jsxs(o,{className:"mb-6",children:[e.jsx(u,{children:e.jsx(h,{children:"Property Details"})}),e.jsx(m,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"bedrooms",children:"Bedrooms"}),e.jsx(n,{id:"bedrooms",type:"number",value:a.bedrooms,onChange:s=>r({...a,bedrooms:parseInt(s.target.value)||0}),placeholder:"e.g., 3",className:"bg-input-background"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"bathrooms",children:"Bathrooms"}),e.jsx(n,{id:"bathrooms",type:"number",value:a.bathrooms,onChange:s=>r({...a,bathrooms:parseInt(s.target.value)||0}),placeholder:"e.g., 2",className:"bg-input-background"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"area",children:"Area (mÂ²) *"}),e.jsx(n,{id:"area",type:"number",value:a.area,onChange:s=>r({...a,area:parseInt(s.target.value)||0}),placeholder:"e.g., 150",required:!0,className:"bg-input-background"})]})]})})]}),e.jsxs(o,{className:"mb-6",children:[e.jsx(u,{children:e.jsx(h,{children:"Features & Amenities"})}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{value:b,onChange:s=>k(s.target.value),placeholder:"Add a feature (e.g., Parking, Security, etc.)",onKeyPress:s=>s.key==="Enter"&&(s.preventDefault(),F()),className:"bg-input-background"}),e.jsx(c,{type:"button",onClick:F,variant:"outline",children:e.jsx(I,{className:"h-4 w-4"})})]}),a.features&&a.features.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:a.features.map((s,i)=>e.jsxs("div",{className:"flex items-center gap-2 bg-secondary text-secondary-foreground px-3 py-1 rounded-md",children:[e.jsx("span",{children:s}),e.jsx("button",{type:"button",onClick:()=>V(i),className:"hover:text-destructive",children:e.jsx(S,{className:"h-4 w-4"})})]},i))})]})]}),e.jsxs(o,{className:"mb-6",children:[e.jsx(u,{children:e.jsx(h,{children:"Property Images"})}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{value:y,onChange:s=>C(s.target.value),placeholder:"Enter image URL",onKeyPress:s=>s.key==="Enter"&&(s.preventDefault(),P()),className:"bg-input-background"}),e.jsx(c,{type:"button",onClick:P,variant:"outline",children:e.jsx(I,{className:"h-4 w-4"})})]}),a.images&&a.images.length>0&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:a.images.map((s,i)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:s,alt:`Property ${i+1}`,className:"w-full h-32 object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:()=>B(i),className:"absolute top-2 right-2 bg-destructive text-destructive-foreground p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(S,{className:"h-4 w-4"})})]},i))})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(c,{type:"submit",className:"gap-2",children:[e.jsx(K,{className:"h-4 w-4"}),d?"Update Property":"Create Property"]}),e.jsx(c,{type:"button",variant:"outline",onClick:()=>v("admin-properties"),children:"Cancel"})]})]})})]})}export{G as AdminAddProperty};
