import{c as N,r as h,j as e,s as V,k as g,X as T,A as z,t as A,B as n,C as F,v as D,I as j,M as S,w as P,S as q,l as X,m as B,n as H,o as m,x as p,H as U,y as W,z as v,D as w,E as y,F as k,G as M,J as C,K as G,L as J,N as K,O as Q,Q as Y}from"./index-lYiB39I8.js";import{R as Z,C as ee,a as ae,b as se,P as te,O as le}from"./index-BSY5U7nB.js";import{L as u}from"./label-Dou3mpNO.js";import{T as ie}from"./textarea-DVyZf2kk.js";import{A as re}from"./arrow-left-BWsYgQOO.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],O=N("calendar",ne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],oe=N("maximize-2",ce);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],I=N("shield-check",de);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],he=N("user",me);var xe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ue=xe.reduce((a,l)=>{const t=V(`Primitive.${l}`),s=h.forwardRef((r,c)=>{const{asChild:i,...d}=r,o=i?t:l;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(o,{...d,ref:c})});return s.displayName=`Primitive.${l}`,{...a,[l]:s}},{}),ge="Separator",$="horizontal",je=["horizontal","vertical"],R=h.forwardRef((a,l)=>{const{decorative:t,orientation:s=$,...r}=a,c=ve(s)?s:$,d=t?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return e.jsx(ue.div,{"data-orientation":c,...d,...r,ref:l})});R.displayName=ge;function ve(a){return je.includes(a)}var fe=R;function f({className:a,orientation:l="horizontal",decorative:t=!0,...s}){return e.jsx(fe,{"data-slot":"separator-root",decorative:t,orientation:l,className:g("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",a),...s})}function L({...a}){return e.jsx(Z,{"data-slot":"dialog",...a})}function pe({...a}){return e.jsx(te,{"data-slot":"dialog-portal",...a})}function Ne({className:a,...l}){return e.jsx(le,{"data-slot":"dialog-overlay",className:g("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...l})}function _({className:a,children:l,...t}){return e.jsxs(pe,{"data-slot":"dialog-portal",children:[e.jsx(Ne,{}),e.jsxs(ee,{"data-slot":"dialog-content",className:g("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...t,children:[l,e.jsxs(ae,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(T,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function be({className:a,...l}){return e.jsx("div",{"data-slot":"dialog-header",className:g("flex flex-col gap-2 text-center sm:text-left",a),...l})}function we({className:a,...l}){return e.jsx(se,{"data-slot":"dialog-title",className:g("text-lg leading-none font-semibold",a),...l})}function ye({images:a,title:l}){const[t,s]=h.useState(0),[r,c]=h.useState(!1);if(!a||a.length===0)return e.jsx("div",{className:"w-full h-96 bg-muted flex items-center justify-center rounded-lg",children:e.jsx("p",{className:"text-muted-foreground",children:"No images available"})});const i=()=>{s(o=>(o+1)%a.length)},d=()=>{s(o=>(o-1+a.length)%a.length)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative w-full h-96 md:h-[500px] rounded-lg overflow-hidden bg-black group",children:[e.jsx(z,{mode:"wait",children:e.jsx(A.img,{src:a[t],alt:`${l} - Image ${t+1}`,className:"w-full h-full object-cover",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},t)}),a.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(n,{variant:"ghost",size:"icon",className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white opacity-0 group-hover:opacity-100 transition-opacity",onClick:d,children:e.jsx(F,{className:"h-6 w-6"})}),e.jsx(n,{variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white opacity-0 group-hover:opacity-100 transition-opacity",onClick:i,children:e.jsx(D,{className:"h-6 w-6"})})]}),e.jsx(n,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 bg-black/50 hover:bg-black/70 text-white",onClick:()=>c(!0),children:e.jsx(oe,{className:"h-5 w-5"})}),e.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 text-white px-3 py-1 rounded-full text-sm",children:[t+1," / ",a.length]})]}),a.length>1&&e.jsx("div",{className:"flex gap-2 mt-4 overflow-x-auto pb-2",children:a.map((o,x)=>e.jsx("button",{onClick:()=>s(x),className:`relative flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${x===t?"border-primary ring-2 ring-primary/20":"border-transparent hover:border-primary/50"}`,children:e.jsx("img",{src:o,alt:`Thumbnail ${x+1}`,className:"w-full h-full object-cover"})},x))}),e.jsx(L,{open:r,onOpenChange:c,children:e.jsx(_,{className:"max-w-7xl h-[90vh] p-0",children:e.jsxs("div",{className:"relative w-full h-full bg-black",children:[e.jsx(z,{mode:"wait",children:e.jsx(A.img,{src:a[t],alt:`${l} - Image ${t+1}`,className:"w-full h-full object-contain",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3}},t)}),a.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(n,{variant:"ghost",size:"icon",className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white",onClick:d,children:e.jsx(F,{className:"h-8 w-8"})}),e.jsx(n,{variant:"ghost",size:"icon",className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white",onClick:i,children:e.jsx(D,{className:"h-8 w-8"})})]}),e.jsx(n,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 bg-black/50 hover:bg-black/70 text-white",onClick:()=>c(!1),children:e.jsx(T,{className:"h-6 w-6"})}),e.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/70 text-white px-4 py-2 rounded-full",children:[t+1," / ",a.length]})]})})})]})}function ke({propertyTitle:a,open:l,onOpenChange:t}){const[s,r]=h.useState({name:"",email:"",phone:"",date:"",time:"",message:""}),c=i=>{if(i.preventDefault(),!s.name||!s.phone||!s.date||!s.time){p.error("Please fill in all required fields");return}p.success("Viewing request sent successfully! We will contact you shortly."),t(!1),r({name:"",email:"",phone:"",date:"",time:"",message:""})};return e.jsx(L,{open:l,onOpenChange:t,children:e.jsxs(_,{className:"sm:max-w-md",children:[e.jsxs(be,{children:[e.jsx(we,{children:"Schedule a Viewing"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:a})]}),e.jsxs("form",{onSubmit:c,className:"space-y-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(u,{htmlFor:"name",children:"Full Name *"}),e.jsxs("div",{className:"relative mt-2",children:[e.jsx(he,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(j,{id:"name",placeholder:"Enter your full name",value:s.name,onChange:i=>r({...s,name:i.target.value}),className:"pl-10",required:!0})]})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"email",children:"Email"}),e.jsxs("div",{className:"relative mt-2",children:[e.jsx(S,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(j,{id:"email",type:"email",placeholder:"your.email@example.com",value:s.email,onChange:i=>r({...s,email:i.target.value}),className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"phone",children:"Phone Number *"}),e.jsxs("div",{className:"relative mt-2",children:[e.jsx(P,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(j,{id:"phone",type:"tel",placeholder:"+250 7XX XXX XXX",value:s.phone,onChange:i=>r({...s,phone:i.target.value}),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(u,{htmlFor:"date",children:"Preferred Date *"}),e.jsxs("div",{className:"relative mt-2",children:[e.jsx(O,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(j,{id:"date",type:"date",value:s.date,onChange:i=>r({...s,date:i.target.value}),className:"pl-10",min:new Date().toISOString().split("T")[0],required:!0})]})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"time",children:"Preferred Time *"}),e.jsxs(q,{value:s.time,onValueChange:i=>r({...s,time:i}),required:!0,children:[e.jsx(X,{id:"time",className:"mt-2",children:e.jsx(B,{placeholder:"Select time"})}),e.jsxs(H,{children:[e.jsx(m,{value:"09:00",children:"09:00 AM"}),e.jsx(m,{value:"10:00",children:"10:00 AM"}),e.jsx(m,{value:"11:00",children:"11:00 AM"}),e.jsx(m,{value:"12:00",children:"12:00 PM"}),e.jsx(m,{value:"14:00",children:"02:00 PM"}),e.jsx(m,{value:"15:00",children:"03:00 PM"}),e.jsx(m,{value:"16:00",children:"04:00 PM"}),e.jsx(m,{value:"17:00",children:"05:00 PM"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"message",children:"Additional Message"}),e.jsx(ie,{id:"message",placeholder:"Any specific requirements or questions?",value:s.message,onChange:i=>r({...s,message:i.target.value}),className:"mt-2 min-h-[80px]"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(n,{type:"button",variant:"outline",onClick:()=>t(!1),className:"flex-1",children:"Cancel"}),e.jsx(n,{type:"submit",className:"flex-1",children:"Send Request"})]})]})]})})}function Fe({property:a,onBack:l}){const[t,s]=h.useState(!1),[r,c]=h.useState(!1),i=b=>new Intl.NumberFormat("en-RW",{style:"currency",currency:"RWF",minimumFractionDigits:0}).format(b),d=()=>{navigator.share?navigator.share({title:a.title,text:a.description,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),p.success("Link copied to clipboard!"))},o=()=>{s(!t),p.success(t?"Removed from favorites":"Added to favorites")},x=a.agent?.phone?`https://wa.me/${a.agent.phone.replace(/\D/g,"")}`:"https://wa.me/250785514692";return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("div",{className:"bg-card border-b border-border",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(n,{variant:"ghost",onClick:l,className:"gap-2",children:[e.jsx(re,{className:"h-4 w-4"}),"Back to Properties"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{variant:"outline",size:"icon",onClick:o,children:e.jsx(U,{className:`h-5 w-5 ${t?"fill-red-500 text-red-500":""}`})}),e.jsx(n,{variant:"outline",size:"icon",onClick:d,children:e.jsx(W,{className:"h-5 w-5"})})]})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-10",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(ye,{images:a.images,title:a.title}),e.jsxs("div",{className:"flex gap-2 mt-4 flex-wrap",children:[e.jsx(v,{className:"bg-primary text-primary-foreground",children:a.type==="rent"?"For Rent":"For Sale"}),e.jsx(v,{variant:"secondary",className:a.status==="available"?"bg-emerald-500 text-white hover:bg-emerald-600":"bg-gray-500 text-white",children:a.status.charAt(0).toUpperCase()+a.status.slice(1)}),e.jsx(v,{variant:"outline",children:a.category.charAt(0).toUpperCase()+a.category.slice(1)}),e.jsxs(v,{variant:"outline",className:"gap-1",children:[e.jsx(I,{className:"h-3.5 w-3.5 text-primary"}),"Verified Listing"]})]})]}),e.jsxs(w,{className:"mb-6 card-outline",children:[e.jsx(y,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(k,{className:"mb-2",children:a.title}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(M,{className:"h-4 w-4"}),e.jsxs("span",{children:[a.location,", ",a.district]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:a.type==="rent"?"Monthly Rent":"Price"}),e.jsx("h3",{className:"text-primary",children:i(a.price)})]})]})}),e.jsxs(C,{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6 p-4 bg-muted/70 rounded-2xl",children:[a.category!=="land"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center",children:[e.jsx(G,{className:"h-6 w-6 mx-auto mb-2 text-primary"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Bedrooms"}),e.jsx("p",{children:a.bedrooms})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(J,{className:"h-6 w-6 mx-auto mb-2 text-primary"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Bathrooms"}),e.jsx("p",{children:a.bathrooms})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(K,{className:"h-6 w-6 mx-auto mb-2 text-primary"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Area"}),e.jsxs("p",{children:[a.area," mÂ²"]})]})]}),e.jsx(f,{className:"my-6"}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-3",children:"Description"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:a.description})]}),e.jsx(f,{className:"my-6"}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-3",children:"Features & Amenities"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:a.features.map((b,E)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4 text-emerald-500"}),e.jsx("span",{children:b})]},E))})]}),e.jsx(f,{className:"my-6"}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-3",children:"Property Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Type"}),e.jsx("p",{className:"capitalize",children:a.type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Category"}),e.jsx("p",{className:"capitalize",children:a.category})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"District"}),e.jsx("p",{children:a.district})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Listed On"}),e.jsx("p",{children:new Date(a.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})]})]})]}),e.jsxs(w,{className:"card-outline",children:[e.jsx(y,{children:e.jsx(k,{children:"Location & Neighborhood"})}),e.jsx(C,{children:e.jsxs("div",{className:"rounded-2xl border border-border/60 bg-muted/60 p-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm uppercase tracking-[0.2em] text-muted-foreground mb-2",children:"Map Preview"}),e.jsxs("p",{className:"text-lg font-medium",children:[a.location,", ",a.district]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Safe, walkable, and close to top schools and dining."})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(M,{className:"h-5 w-5 text-primary"})})]})})]})]}),e.jsx("div",{className:"lg:col-span-1",children:a.agent&&e.jsxs(w,{className:"mb-6 sticky top-20 card-outline",children:[e.jsx(y,{children:e.jsx(k,{children:"Contact Agent"})}),e.jsxs(C,{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-primary text-primary-foreground flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:a.agent.name.charAt(0)})}),e.jsxs("div",{children:[e.jsx("p",{children:a.agent.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Property Agent"}),e.jsxs("div",{className:"inline-flex items-center gap-1 mt-2 text-xs text-primary bg-primary/10 px-2 py-1 rounded-full",children:[e.jsx(I,{className:"h-3 w-3"}),"Verified Professional"]})]})]}),e.jsx(f,{className:"my-4"}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("a",{href:`tel:${a.agent.phone}`,className:"text-sm hover:text-primary",children:a.agent.phone})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("a",{href:`mailto:${a.agent.email}`,className:"text-sm hover:text-primary",children:a.agent.email})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{className:"w-full",asChild:!0,children:e.jsxs("a",{href:`tel:${a.agent.phone}`,children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Call Agent"]})}),e.jsx(n,{variant:"outline",className:"w-full",asChild:!0,children:e.jsxs("a",{href:x,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"WhatsApp"]})}),e.jsx(n,{variant:"outline",className:"w-full",asChild:!0,children:e.jsxs("a",{href:`mailto:${a.agent.email}`,children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Email Agent"]})}),e.jsxs(n,{variant:"outline",className:"w-full",onClick:()=>c(!0),children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),"Schedule Viewing"]})]})]})]})})]})}),e.jsx(ke,{propertyTitle:a.title,open:r,onOpenChange:c})]})}export{Fe as PropertyDetail};
