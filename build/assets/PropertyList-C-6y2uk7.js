import{c as te,r as d,u as pe,j as e,a as T,P as q,b as I,d as Se,e as ve,f as re,g as je,h as ye,i as be,k as _,X as we,I as Pe,S as L,l as H,m as O,n as U,o as g,B as F,p as Ne,q as Ce}from"./index-BcVYOlQn.js";import{R as Re,T as De,C as ke,a as Me,b as Ee,P as _e,O as Ae}from"./index-BhWoFdiU.js";import{L as W}from"./label-DR0iu8vu.js";import{S as Te}from"./sliders-horizontal--1Wvgl-S.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Ie=te("layout-grid",Fe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],ze=te("list",Be);var ne=["PageUp","PageDown"],se=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],oe={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},B="Slider",[X,Ve,Ke]=Se(B),[ae]=ye(B,[Ke]),[Le,Y]=ae(B),ie=d.forwardRef((r,t)=>{const{name:n,min:o=0,max:a=100,step:l=1,orientation:s="horizontal",disabled:c=!1,minStepsBetweenThumbs:h=0,defaultValue:y=[o],value:p,onValueChange:i=()=>{},onValueCommit:m=()=>{},inverted:j=!1,form:P,...S}=r,v=d.useRef(new Set),f=d.useRef(0),b=s==="horizontal"?He:Oe,[x=[],D]=pe({prop:p,defaultProp:y,onChange:w=>{[...v.current][f.current]?.focus(),i(w)}}),z=d.useRef(x);function C(w){const R=Ge(x,w);M(w,R)}function u(w){M(w,f.current)}function k(){const w=z.current[f.current];x[f.current]!==w&&m(x)}function M(w,R,{commit:V}={commit:!1}){const $=Je(l),G=Ze(Math.round((w-o)/l)*l+o,$),K=re(G,[o,a]);D((A=[])=>{const E=$e(A,K,R);if(Qe(E,h*l)){f.current=E.indexOf(K);const ee=String(E)!==String(A);return ee&&V&&m(E),ee?E:A}else return A})}return e.jsx(Le,{scope:r.__scopeSlider,name:n,disabled:c,min:o,max:a,valueIndexToChangeRef:f,thumbs:v.current,values:x,orientation:s,form:P,children:e.jsx(X.Provider,{scope:r.__scopeSlider,children:e.jsx(X.Slot,{scope:r.__scopeSlider,children:e.jsx(b,{"aria-disabled":c,"data-disabled":c?"":void 0,...S,ref:t,onPointerDown:T(S.onPointerDown,()=>{c||(z.current=x)}),min:o,max:a,inverted:j,onSlideStart:c?void 0:C,onSlideMove:c?void 0:u,onSlideEnd:c?void 0:k,onHomeKeyDown:()=>!c&&M(o,0,{commit:!0}),onEndKeyDown:()=>!c&&M(a,x.length-1,{commit:!0}),onStepKeyDown:({event:w,direction:R})=>{if(!c){const G=ne.includes(w.key)||w.shiftKey&&se.includes(w.key)?10:1,K=f.current,A=x[K],E=l*G*R;M(A+E,K,{commit:!0})}}})})})})});ie.displayName=B;var[le,ce]=ae(B,{startEdge:"left",endEdge:"right",size:"width",direction:1}),He=d.forwardRef((r,t)=>{const{min:n,max:o,dir:a,inverted:l,onSlideStart:s,onSlideMove:c,onSlideEnd:h,onStepKeyDown:y,...p}=r,[i,m]=d.useState(null),j=I(t,b=>m(b)),P=d.useRef(void 0),S=ve(a),v=S==="ltr",f=v&&!l||!v&&l;function N(b){const x=P.current||i.getBoundingClientRect(),D=[0,x.width],C=Z(D,f?[n,o]:[o,n]);return P.current=x,C(b-x.left)}return e.jsx(le,{scope:r.__scopeSlider,startEdge:f?"left":"right",endEdge:f?"right":"left",direction:f?1:-1,size:"width",children:e.jsx(de,{dir:S,"data-orientation":"horizontal",...p,ref:j,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const x=N(b.clientX);s?.(x)},onSlideMove:b=>{const x=N(b.clientX);c?.(x)},onSlideEnd:()=>{P.current=void 0,h?.()},onStepKeyDown:b=>{const D=oe[f?"from-left":"from-right"].includes(b.key);y?.({event:b,direction:D?-1:1})}})})}),Oe=d.forwardRef((r,t)=>{const{min:n,max:o,inverted:a,onSlideStart:l,onSlideMove:s,onSlideEnd:c,onStepKeyDown:h,...y}=r,p=d.useRef(null),i=I(t,p),m=d.useRef(void 0),j=!a;function P(S){const v=m.current||p.current.getBoundingClientRect(),f=[0,v.height],b=Z(f,j?[o,n]:[n,o]);return m.current=v,b(S-v.top)}return e.jsx(le,{scope:r.__scopeSlider,startEdge:j?"bottom":"top",endEdge:j?"top":"bottom",size:"height",direction:j?1:-1,children:e.jsx(de,{"data-orientation":"vertical",...y,ref:i,style:{...y.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:S=>{const v=P(S.clientY);l?.(v)},onSlideMove:S=>{const v=P(S.clientY);s?.(v)},onSlideEnd:()=>{m.current=void 0,c?.()},onStepKeyDown:S=>{const f=oe[j?"from-bottom":"from-top"].includes(S.key);h?.({event:S,direction:f?-1:1})}})})}),de=d.forwardRef((r,t)=>{const{__scopeSlider:n,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onHomeKeyDown:s,onEndKeyDown:c,onStepKeyDown:h,...y}=r,p=Y(B,n);return e.jsx(q.span,{...y,ref:t,onKeyDown:T(r.onKeyDown,i=>{i.key==="Home"?(s(i),i.preventDefault()):i.key==="End"?(c(i),i.preventDefault()):ne.concat(se).includes(i.key)&&(h(i),i.preventDefault())}),onPointerDown:T(r.onPointerDown,i=>{const m=i.target;m.setPointerCapture(i.pointerId),i.preventDefault(),p.thumbs.has(m)?m.focus():o(i)}),onPointerMove:T(r.onPointerMove,i=>{i.target.hasPointerCapture(i.pointerId)&&a(i)}),onPointerUp:T(r.onPointerUp,i=>{const m=i.target;m.hasPointerCapture(i.pointerId)&&(m.releasePointerCapture(i.pointerId),l(i))})})}),ue="SliderTrack",he=d.forwardRef((r,t)=>{const{__scopeSlider:n,...o}=r,a=Y(ue,n);return e.jsx(q.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...o,ref:t})});he.displayName=ue;var Q="SliderRange",me=d.forwardRef((r,t)=>{const{__scopeSlider:n,...o}=r,a=Y(Q,n),l=ce(Q,n),s=d.useRef(null),c=I(t,s),h=a.values.length,y=a.values.map(m=>ge(m,a.min,a.max)),p=h>1?Math.min(...y):0,i=100-Math.max(...y);return e.jsx(q.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...o,ref:c,style:{...r.style,[l.startEdge]:p+"%",[l.endEdge]:i+"%"}})});me.displayName=Q;var J="SliderThumb",fe=d.forwardRef((r,t)=>{const n=Ve(r.__scopeSlider),[o,a]=d.useState(null),l=I(t,c=>a(c)),s=d.useMemo(()=>o?n().findIndex(c=>c.ref.current===o):-1,[n,o]);return e.jsx(Ue,{...r,ref:l,index:s})}),Ue=d.forwardRef((r,t)=>{const{__scopeSlider:n,index:o,name:a,...l}=r,s=Y(J,n),c=ce(J,n),[h,y]=d.useState(null),p=I(t,N=>y(N)),i=h?s.form||!!h.closest("form"):!0,m=je(h),j=s.values[o],P=j===void 0?0:ge(j,s.min,s.max),S=Ye(o,s.values.length),v=m?.[c.size],f=v?We(v,P,c.direction):0;return d.useEffect(()=>{if(h)return s.thumbs.add(h),()=>{s.thumbs.delete(h)}},[h,s.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${P}% + ${f}px)`},children:[e.jsx(X.ItemSlot,{scope:r.__scopeSlider,children:e.jsx(q.span,{role:"slider","aria-label":r["aria-label"]||S,"aria-valuemin":s.min,"aria-valuenow":j,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...l,ref:p,style:j===void 0?{display:"none"}:r.style,onFocus:T(r.onFocus,()=>{s.valueIndexToChangeRef.current=o})})}),i&&e.jsx(xe,{name:a??(s.name?s.name+(s.values.length>1?"[]":""):void 0),form:s.form,value:j},o)]})});fe.displayName=J;var qe="RadioBubbleInput",xe=d.forwardRef(({__scopeSlider:r,value:t,...n},o)=>{const a=d.useRef(null),l=I(a,o),s=be(t);return d.useEffect(()=>{const c=a.current;if(!c)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"value").set;if(s!==t&&p){const i=new Event("input",{bubbles:!0});p.call(c,t),c.dispatchEvent(i)}},[s,t]),e.jsx(q.input,{style:{display:"none"},...n,ref:l,defaultValue:t})});xe.displayName=qe;function $e(r=[],t,n){const o=[...r];return o[n]=t,o.sort((a,l)=>a-l)}function ge(r,t,n){const l=100/(n-t)*(r-t);return re(l,[0,100])}function Ye(r,t){return t>2?`Value ${r+1} of ${t}`:t===2?["Minimum","Maximum"][r]:void 0}function Ge(r,t){if(r.length===1)return 0;const n=r.map(a=>Math.abs(a-t)),o=Math.min(...n);return n.indexOf(o)}function We(r,t,n){const o=r/2,l=Z([0,50],[0,o]);return(o-l(t)*n)*n}function Xe(r){return r.slice(0,-1).map((t,n)=>r[n+1]-t)}function Qe(r,t){if(t>0){const n=Xe(r);return Math.min(...n)>=t}return!0}function Z(r,t){return n=>{if(r[0]===r[1]||t[0]===t[1])return t[0];const o=(t[1]-t[0])/(r[1]-r[0]);return t[0]+o*(n-r[0])}}function Je(r){return(String(r).split(".")[1]||"").length}function Ze(r,t){const n=Math.pow(10,t);return Math.round(r*n)/n}var et=ie,tt=he,rt=me,nt=fe;function st({className:r,defaultValue:t,value:n,min:o=0,max:a=100,...l}){const s=d.useMemo(()=>Array.isArray(n)?n:Array.isArray(t)?t:[o,a],[n,t,o,a]);return e.jsxs(et,{"data-slot":"slider",defaultValue:t,value:n,min:o,max:a,className:_("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",r),...l,children:[e.jsx(tt,{"data-slot":"slider-track",className:_("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:e.jsx(rt,{"data-slot":"slider-range",className:_("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:s.length},(c,h)=>e.jsx(nt,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},h))]})}function ot({...r}){return e.jsx(Re,{"data-slot":"sheet",...r})}function at({...r}){return e.jsx(De,{"data-slot":"sheet-trigger",...r})}function it({...r}){return e.jsx(_e,{"data-slot":"sheet-portal",...r})}function lt({className:r,...t}){return e.jsx(Ae,{"data-slot":"sheet-overlay",className:_("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",r),...t})}function ct({className:r,children:t,side:n="right",...o}){return e.jsxs(it,{children:[e.jsx(lt,{}),e.jsxs(ke,{"data-slot":"sheet-content",className:_("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",r),...o,children:[t,e.jsxs(Me,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[e.jsx(we,{className:"size-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function dt({className:r,...t}){return e.jsx("div",{"data-slot":"sheet-header",className:_("flex flex-col gap-1.5 p-4",r),...t})}function ut({className:r,...t}){return e.jsx(Ee,{"data-slot":"sheet-title",className:_("text-foreground font-semibold",r),...t})}function ht({onSearch:r}){const[t,n]=d.useState({query:"",type:"all",category:"all",district:"all",bedrooms:"all",minPrice:0,maxPrice:5e6}),o=s=>{s.preventDefault(),r(t)},a=s=>{n({...t,minPrice:s[0],maxPrice:s[1]})},l=s=>new Intl.NumberFormat("en-RW",{style:"currency",currency:"RWF",minimumFractionDigits:0,maximumFractionDigits:0}).format(s);return e.jsx("div",{className:"bg-card border border-border rounded-lg p-6 mb-8",children:e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(Pe,{name:"query",placeholder:"Search by location, title...",value:t.query,onChange:s=>n({...t,query:s.target.value}),className:"w-full"})}),e.jsxs(L,{value:t.type,onValueChange:s=>n({...t,type:s}),children:[e.jsx(H,{children:e.jsx(O,{placeholder:"Type"})}),e.jsxs(U,{children:[e.jsx(g,{value:"all",children:"All Types"}),e.jsx(g,{value:"rent",children:"For Rent"}),e.jsx(g,{value:"sale",children:"For Sale"})]})]}),e.jsxs(L,{value:t.category,onValueChange:s=>n({...t,category:s}),children:[e.jsx(H,{children:e.jsx(O,{placeholder:"Category"})}),e.jsxs(U,{children:[e.jsx(g,{value:"all",children:"All Categories"}),e.jsx(g,{value:"house",children:"House"}),e.jsx(g,{value:"apartment",children:"Apartment"}),e.jsx(g,{value:"villa",children:"Villa"}),e.jsx(g,{value:"studio",children:"Studio"}),e.jsx(g,{value:"land",children:"Land"})]})]})]}),e.jsxs(ot,{children:[e.jsx(at,{asChild:!0,children:e.jsxs(F,{variant:"outline",className:"w-full md:w-auto",children:[e.jsx(Te,{className:"h-4 w-4 mr-2"}),"Advanced Filters"]})}),e.jsxs(ct,{children:[e.jsx(dt,{children:e.jsx(ut,{children:"Advanced Filters"})}),e.jsxs("div",{className:"space-y-6 mt-6",children:[e.jsxs("div",{children:[e.jsx(W,{children:"District"}),e.jsxs(L,{value:t.district,onValueChange:s=>n({...t,district:s}),children:[e.jsx(H,{className:"mt-2",children:e.jsx(O,{placeholder:"Select District"})}),e.jsxs(U,{children:[e.jsx(g,{value:"all",children:"All Districts"}),e.jsx(g,{value:"Gasabo",children:"Gasabo"}),e.jsx(g,{value:"Kicukiro",children:"Kicukiro"}),e.jsx(g,{value:"Nyarugenge",children:"Nyarugenge"})]})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Bedrooms"}),e.jsxs(L,{value:t.bedrooms,onValueChange:s=>n({...t,bedrooms:s}),children:[e.jsx(H,{className:"mt-2",children:e.jsx(O,{placeholder:"Select Bedrooms"})}),e.jsxs(U,{children:[e.jsx(g,{value:"all",children:"Any"}),e.jsx(g,{value:"1",children:"1+"}),e.jsx(g,{value:"2",children:"2+"}),e.jsx(g,{value:"3",children:"3+"}),e.jsx(g,{value:"4",children:"4+"})]})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Price Range"}),e.jsxs("div",{className:"mt-4 px-2",children:[e.jsx(st,{value:[t.minPrice,t.maxPrice],onValueChange:a,max:5e6,min:0,step:1e5,className:"mb-4"}),e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[e.jsx("span",{children:l(t.minPrice)}),e.jsx("span",{children:l(t.maxPrice)})]})]})]}),e.jsx(F,{onClick:o,className:"w-full",children:"Apply Filters"})]})]})]}),e.jsxs(F,{type:"submit",className:"w-full md:w-auto",children:[e.jsx(Ne,{className:"h-4 w-4 mr-2"}),"Search"]})]})})}function pt({properties:r,title:t,onViewDetails:n,showFilters:o=!0}){const[a,l]=d.useState(""),[s,c]=d.useState("all"),[h,y]=d.useState("all"),[p,i]=d.useState("all"),[m,j]=d.useState("all"),[P,S]=d.useState(0),[v,f]=d.useState(5e6),[N,b]=d.useState("newest"),[x,D]=d.useState("grid"),z=u=>{l(u.query),c(u.type),y(u.category),i(u.district),j(u.bedrooms),S(u.minPrice),f(u.maxPrice)},C=r.filter(u=>{const k=u.title.toLowerCase().includes(a.toLowerCase())||u.location.toLowerCase().includes(a.toLowerCase()),M=s==="all"||u.type===s,w=h==="all"||u.category===h,R=p==="all"||u.district===p,V=m==="all"||u.bedrooms>=parseInt(m),$=u.price>=P&&u.price<=v;return k&&M&&w&&R&&V&&$}).sort((u,k)=>{switch(N){case"price-low":return u.price-k.price;case"price-high":return k.price-u.price;case"newest":default:return new Date(k.createdAt).getTime()-new Date(u.createdAt).getTime()}});return e.jsx("div",{className:"min-h-screen bg-background py-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"mb-2",children:t}),e.jsxs("p",{className:"text-muted-foreground",children:[C.length," ",C.length===1?"property":"properties"," matched your criteria"]})]}),o&&e.jsxs(e.Fragment,{children:[e.jsx(ht,{onSearch:z}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",C.length," of ",r.length," properties"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex gap-1 border border-border rounded-lg p-1",children:[e.jsx(F,{variant:x==="grid"?"default":"ghost",size:"sm",onClick:()=>D("grid"),children:e.jsx(Ie,{className:"h-4 w-4"})}),e.jsx(F,{variant:x==="list"?"default":"ghost",size:"sm",onClick:()=>D("list"),children:e.jsx(ze,{className:"h-4 w-4"})})]}),e.jsxs(L,{value:N,onValueChange:b,children:[e.jsx(H,{className:"w-48",children:e.jsx(O,{placeholder:"Sort by"})}),e.jsxs(U,{children:[e.jsx(g,{value:"newest",children:"Newest First"}),e.jsx(g,{value:"price-low",children:"Price: Low to High"}),e.jsx(g,{value:"price-high",children:"Price: High to Low"})]})]})]})]})]}),C.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"No properties found matching your criteria."}),e.jsx(F,{variant:"outline",onClick:()=>{l(""),c("all"),y("all"),i("all"),j("all"),S(0),f(5e6)},children:"Clear Filters"})]}):e.jsx("div",{className:x==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"flex flex-col gap-6",children:C.map(u=>e.jsx(Ce,{property:u,onViewDetails:n},u.id))})]})})}export{pt as PropertyList};
